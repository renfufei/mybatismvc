
## JDK下载与安装

官方将Java的安装包分为三类: 

- JRE安装包, 官方称其为Java安装包。JRE 是面向一般用户的, 可以运行各种Java程序, 包括服务端和桌面端Java程序。 
- JDK安装包, JDK是给开发人员用的, 其中包含了一套完整的JRE, 再加上必要的开发工具, 例如 创建Java程序, 生成代码签名, 生成文档, 等等功能。此外, JDK还提供了一些监控和调试工具。
- Server JRE 压缩包, 是专为服务端程序量身打造的, 只包含JRE/JDK中最常用的功能。从服务端的角度来看, JRE缺少必要的监控工具, 以及 javac 编译器。而JDK的功能又太多了, 特别是生产环境并不需要的功能, 如浏览器插件, 自动更新, javadoc 工具, JavaFX 等等。此外，去除了不必要的组件, 还可以减少隐藏的安全漏洞。


一般在开发环境, 以及生产、测试环境都是直接安装JDK, 而很少采用JRE。原因在于、JRE就像是一个阉割版，只有基本的Java运行时环境，稍微复杂点的应用就跑不起来。

当然, 从上面的简介可知, 随着 Server JRE 的成熟，以后服务端环境很大可能是只安装 Server JRE。 而像阿里巴巴等重度Java用户, 则维护有自己的JDK分支, 其中深度定制了很多监控相关的特性, 本质上和官方的JDK并无太多区别。


本文首先介绍 Windows 平台下的JDK下载安装步骤。


### Windows下安装JDK


#### 1. 打开Java网站: <https://www.java.com>. 如下图所示:

![](01_01_java.com.png)


点击页面下方的 [开发人员](https://www.java.com/zh_CN/download/faq/develop.xml) 链接。 


#### 2. 进入JDK介绍页面。

![](01_02_jdk_faq.png)

在JDK介绍页面中, 点击 [JDK 下载](http://www.oracle.com/technetwork/java/javase/downloads/index.html) 链接。 


#### 3. 进入Oracle官网的JDK下载页面。

![](01_03_jdk9.png)

可以看到,当前(2017年12月11日)的最新版本是 **Java SE 9.0.1**, 找到并点击右边的JDK下载链接。

如果想要下载旧版本的JDK, 如 JDK8 或者 JDK7, 滚动页面到下方, 找到对应的链接即可。操作都是类似的。


#### 4. JDK9下载页面如下所示:

![](01_04_jdk9_accept.png)

必须选择接受许可协议(Accept License Agreement), 才可以查看下载链接。

下载操作和普通下载类似。鼠标右键点击下载链接, 选择 "目标另存为/链接另存为", 浏览器则会直接下载。 因为文件较大, 如果想要使用外部下载工具, 如迅雷下载, 选择右键菜单 "复制链接地址", 然后在下载工具中新建任务即可。

![](01_05_jdk_right_click.png)


#### 5. 下载后的文件如下图所示:

![](01_06_jdk9_file.png)

在Windows系统中,有时候浏览器下载的文件会被锁定。鼠标右键点击下载后的文件, 选择属性。 在弹出的属性对话框中, 点击 "解除锁定" 按钮, 然后点击确定即可。

如果不解除锁定, 双击打开时会有安全警告, 如下图所示:

![](01_07_security_alert.png)

点击 "运行" 按钮即可。


#### 6. 双击打开安装程序, 显示安装向导界面。

![](01_08_jdk9_wizzard.png)


点击 "下一步" 按钮. 选择安装路径: 

![](01_09_jdk_install_path.png)

默认的安装路径是 `C:\Program Files\Java\jdk-9.0.1\`, 其中包含了空格, 这里就有个坑。

JDK自身倒是兼容文件路径中的空格, 但某些程序、以及某些启动脚本并不兼容包含空格的路径, 可能会导致一些莫名其妙的错误。

所以选择不带空格的安装路径, 是软件开发人员的一种常识。

选择列表中的第一项 "开发工具",  然后点击下方的 "更改" 按钮, 弹出更改文件夹对话框。

![](01_10_jdk9_change_dir.png)

在下方的文件夹名输入框中填写变化后的目录, 例如 `D:\Develop\Java\jdk-9.0.1\`, 然后点击确定按钮。 开发工具部分的目录选择完成。

![](01_11_jdk9_dir.png)

最好选择不安装公共JRE, 因为JDK中已经内置了一个JRE环境, 再安装一个显得画蛇添足, 而且新手容易出问题。

![](01_12_not_jre.png)

JDK的安装包这里显得特别不好。 当然, 据说在未来版本的JDK中，会将JRE完全合并到一起。


![](01_13_not_jre_next.png)


![](01_14_install_progress.png)

安装完成, 点击 "关闭" 按钮。 

![](01_15_install_ok.png)


#### 设置PATH环境变量

Windows 7 系统这样设置:

1. 从开始菜单或者其他地方开始, 打开控制面板: 

![](01_16_controll_panel.png)

查看方式选择为 "类别" 时, 点击 "系统和安全" 一项。

2. 进入系统和安全界面

![](01_17_cpanel_syssecurity.png)

点击 "系统" 一项。

如果控制面板查看方式为 "大图标/小图标", 直接点击 "系统" 一项即可。

![](01_18_cpanle_sys.png)

3. 进入系统信息界面:

![](01_19_sys_info.png)

在系统信息界面, 点击 "高级系统设置" 标签。

4. 进入系统属性设置:

![](01_20_sys_property.png)

默认会打开 "高级" 选项卡, 在这个界面中, 点击 "环境变量" 按钮。

5. 进入环境变量设置界面.

![](01_21_sys_prop_edit.png)

拖动 "系统变量" 部分的下拉滚动条, 选中 "`Path`" 一行, 然后点击下方的 "编辑" 按钮。

6. 在Path最前面增加JDK的bin路径。

![](01_22_path_setting.png)

根据具体的安装目录, 在最前面加上 `D:\Develop\Java\jdk-9.0.1\bin;`, 记得Windows系统必须要有英文的分号 `;` 作为分隔符。

> **强烈建议加入到PATH的最前面!** 这个习惯比较好！原因是ORACLE公司会自作聪明地将 java.exe 拷贝到 System32 目录下, 造成某些错误, 很容易困扰Java小萌新。

然后一路 "确定", "确定", "确定" 即可。

7. 验证JDK安装成功

从开始菜单，点击 "运行", 输入 `cmd`, 打开Windows的 "命令提示符" 终端。

![](01_23_run_cmd.png)

在 CMD 环境中, 执行以下命令:

```
javac -version

```

以及:

```
java -version

```

只要这两个命令的版本号一致, 那就是安装成功。

如果不一致, 则可能是存在某些问题。 大部分是安装 公共JRE引起的。 建议最好卸载掉。

还可能是之前安装过老版本的 JDK, JRE 等等。



